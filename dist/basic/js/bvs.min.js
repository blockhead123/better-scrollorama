!function(a){a.fn.betterScrollorama=function(b){var c=a.extend({onSceneActive:!1,onSceneLeave:!1,onScroll:!1,sceneName:".scene",itemName:".item",parentBox:"document"},b),d=this,e=0,f=0;d.validatePins=function(a){parseInt(a.attr("bs-pin"))>0&&a.before('<div class="bs-spacer" style="height: '+parseInt(a.attr("bs-pin"))+'px;"></div>')},d.validateParentBox=function(){"document"==c.parentBox?(a("body").css({overflowY:"scroll"}),e=a("body").innerWidth(),f=a(document).height()):(a(c.parentBox).css("overflow","scroll"),e=a(c.parentBox).width(),f=a(c.parentBox).height())};var g=new TimelineLite;return d.addSceneTween=function(b,c,d,e){if(parseInt(b.attr("bs-pin"))>0)var f=parseInt(b.attr("bs-pin"));else var f=d;console.log(f),g.add(TweenLite.to(a(c),f,e))},d.addSTDummy=function(a,b){d.addSceneTween(a,".dummy",b,{left:100,onStart:function(){console.log("yep")},onReverseComplete:function(){console.log("yep")}})},d.validateItems=function(b){b.find(c.itemName).each(function(){a(this).hasClass("item-vertical-center")&&d.alignment.vertical(this)})},d.validateScenes=function(){a(this).find(c.sceneName).each(function(){a(this).css("width",e+"px"),a(this).css("height",f+"px"),d.validateItems(a(this)),d.validatePins(a(this)),d.addSTDummy(a(this),f)})},d.getActiveScene=function(){},d.alignment={vertical:function(b){itemPercent=50-parseInt(a(b).height()/2/f*100),a(b).css({top:itemPercent+"%"})},horizontal:function(){}},d.scrollExec=function(b){if("document"==b)var d=document;else var d=b;a(d).scroll(function(){0!=c.onScroll&&c.onScroll(this);var b=a(document).scrollTop();g.seek(b,!1)})},d.pin=function(){},d.triggerEvent=function(){},d.validateParentBox(),d.validateScenes(),d.scrollExec(c.parentBox),console.log(g),d}}(jQuery);