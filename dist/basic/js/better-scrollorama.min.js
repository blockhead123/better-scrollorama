!function(a){a.fn.betterScrollorama=function(b){var c=a.extend({onSceneActive:!1,onSceneLeave:!1,onScroll:!1,sceneName:".scene",itemName:".item",parentBox:"document"},b),d=this,e=0,f=0,g=0,h=new Array;d.validatePins=function(a){var b=f;return parseInt(a.attr("bs-pin"))>0&&(a.before('<div class="bs-spacer" style="height: '+parseInt(a.attr("bs-pin"))+'px;"></div>'),b=parseInt(a.attr("bs-pin"))),b},d.validateParentBox=function(){"document"==c.parentBox?(a("body").css({overflowY:"scroll"}),e=a("body").innerWidth(),f=a(document).height()):(a(c.parentBox).css("overflow","scroll"),e=a(c.parentBox).width(),f=a(c.parentBox).height())};var i=new TimelineLite;return d.addSceneTween=function(b,c,d,e,f){if(parseInt(b.attr("bs-pin"))>0)var g=parseInt(b.attr("bs-pin"));else var g=d;var j={scene:".scene"+f};h.push(j),i.add(TweenLite.to(a(c),g,e))},d.addSTDummy=function(a,b,c){d.addSceneTween(a,".dummy"+c,b,{left:100,onStart:function(){var a=this.target.selector,b=a.replace(/\D/g,"");d.triggerEvent("activeScene",{index:b})},onReverseComplete:function(){var a=this.target.selector,b=a.replace(/\D/g,"");d.triggerEvent("activeScene",{index:b})}},c)},d.validateItems=function(b){b.find(c.itemName).each(function(){a(this).hasClass("item-vertical-center")&&d.alignment.vertical(this)})},d.validateScenes=function(){a(this).find(c.sceneName).each(function(b){var c=0;a(this).css("width",e+"px"),a(this).css("height",f+"px"),a(this).addClass("scene"+b),d.validateItems(a(this)),c=d.validatePins(a(this)),0==b&&(g=c),d.addSTDummy(a(this),f,b)})},d.hasPin=function(b){parseInt(a(b).attr("bs-pin"))>0},d.getActiveScene=function(){return null},d.alignment={vertical:function(b){itemPercent=50-parseInt(a(b).height()/2/f*100),a(b).css({top:itemPercent+"%"})},horizontal:function(){}},d.scrollExec=function(b){if("document"==b)var d=document;else var d=b;a(d).scroll(function(){0!=c.onScroll&&c.onScroll(this);var b=a(document).scrollTop();i.seek(b+g,!1)})},d.pin=function(){},d.triggerEvent=function(a,b){if("activeScene"==a){h[b.index].scene}},d.validateParentBox(),d.validateScenes(),d.scrollExec(c.parentBox),d}}(jQuery);